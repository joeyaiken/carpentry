using Microsoft.VisualStudio.TestTools.UnitTesting;
using System;
using System.Collections.Generic;
using System.Text;
using System.Threading.Tasks;

namespace Carpentry.Logic.Tests.UnitTests.InventoryServiceTests
{
    [TestClass]
    public class ImportExportTests
    {
        //Task<ValidatedCarpentryImportDto> ValidateCarpentryImport(CardImportDto cardImportDto);
        [TestMethod]
        public async Task InventoryService_ValidateCarpentryImport_Test()
        {
            Assert.Fail();
            ////Assemble
            //List<CardDataDto> expectedSearchResult = new List<CardDataDto>()
            //{
            //    CardInstance(),
            //    CardInstance(),
            //    CardInstance(),
            //    CardInstance(),
            //    CardInstance(),
            //};

            ////var mockQueryService = new Mock<IDataQueryService>(MockBehavior.Strict);

            //var mockInventoryRepo = new Mock<IInventoryDataRepo>(MockBehavior.Strict);

            //mockInventoryRepo
            //    .Setup(p => p.SearchInventoryCards(It.IsNotNull<InventoryQueryParameter>()))
            //    .ReturnsAsync(expectedSearchResult);

            //var mockScryService = new Mock<IScryfallService>(MockBehavior.Strict);

            //var cardSearchService = new CardSearchService(mockInventoryRepo.Object, mockScryService.Object);

            //InventoryQueryParameter filters = new InventoryQueryParameter()
            //{

            //};

            ////Act
            //IEnumerable<MagicCardDto> result = await cardSearchService.SearchCardsFromInventory(filters);

            ////Assert
            //Assert.IsNotNull(result);
            //Assert.AreEqual(expectedSearchResult.Count, result.Count());
        }

        //Task AddValidatedCarpentryImport(ValidatedCarpentryImportDto dto);
        [TestMethod]
        public async Task InventoryService_AddValidatedCarpentryImport_Test()
        {
            Assert.Fail();
            ////Assemble
            //List<CardDataDto> expectedSearchResult = new List<CardDataDto>()
            //{
            //    CardInstance(),
            //    CardInstance(),
            //    CardInstance(),
            //    CardInstance(),
            //    CardInstance(),
            //};

            ////var mockQueryService = new Mock<IDataQueryService>(MockBehavior.Strict);

            //var mockInventoryRepo = new Mock<IInventoryDataRepo>(MockBehavior.Strict);

            //mockInventoryRepo
            //    .Setup(p => p.SearchInventoryCards(It.IsNotNull<InventoryQueryParameter>()))
            //    .ReturnsAsync(expectedSearchResult);

            //var mockScryService = new Mock<IScryfallService>(MockBehavior.Strict);

            //var cardSearchService = new CardSearchService(mockInventoryRepo.Object, mockScryService.Object);

            //InventoryQueryParameter filters = new InventoryQueryParameter()
            //{

            //};

            ////Act
            //IEnumerable<MagicCardDto> result = await cardSearchService.SearchCardsFromInventory(filters);

            ////Assert
            //Assert.IsNotNull(result);
            //Assert.AreEqual(expectedSearchResult.Count, result.Count());
        }

        //Task<byte[]> ExportInventoryBackup();
        [TestMethod]
        public async Task InventoryService_ExportInventoryBackup_Test()
        {
            Assert.Fail();
            ////Assemble
            //List<CardDataDto> expectedSearchResult = new List<CardDataDto>()
            //{
            //    CardInstance(),
            //    CardInstance(),
            //    CardInstance(),
            //    CardInstance(),
            //    CardInstance(),
            //};

            ////var mockQueryService = new Mock<IDataQueryService>(MockBehavior.Strict);

            //var mockInventoryRepo = new Mock<IInventoryDataRepo>(MockBehavior.Strict);

            //mockInventoryRepo
            //    .Setup(p => p.SearchInventoryCards(It.IsNotNull<InventoryQueryParameter>()))
            //    .ReturnsAsync(expectedSearchResult);

            //var mockScryService = new Mock<IScryfallService>(MockBehavior.Strict);

            //var cardSearchService = new CardSearchService(mockInventoryRepo.Object, mockScryService.Object);

            //InventoryQueryParameter filters = new InventoryQueryParameter()
            //{

            //};

            ////Act
            //IEnumerable<MagicCardDto> result = await cardSearchService.SearchCardsFromInventory(filters);

            ////Assert
            //Assert.IsNotNull(result);
            //Assert.AreEqual(expectedSearchResult.Count, result.Count());
        }
    }
}

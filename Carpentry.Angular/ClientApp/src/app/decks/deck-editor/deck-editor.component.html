<div id="deck-editor" fxFill fxLayout="column">



    <app-deck-props-bar
        [deckProperties]="deckDetail?.props"
        (onToggleViewClick)="onToggleViewClick()"
        (onEditClick)="onEditClick()"
        (onExportClick)="onExportClick()"
        (onAddCardsClick)="onAddCardsClick()"
    >
    </app-deck-props-bar>

    <div fxLayout="row" className="flexSection" fxFlex style="overflow:auto; align-items:stretch">

        <div fxFlex="70"  style="overflow:auto;">

            <app-deck-card-list *ngIf="viewMode==='list'" [cardOverviews]="deckDetail.cards" (onCardSelected)="onCardSelected($event)"></app-deck-card-list>

            <app-deck-card-grid *ngIf="viewMode==='grid'" ></app-deck-card-grid>

            <!-- [cardDetailsById]="cardDetails.byId" -->
            <app-grouped-deck-card-list *ngIf="viewMode==='grouped'"
                [groupedCardOverviews]="groupedCardOverviews"
                [cardOverviews]="newGroupingMethod"
                (onCardSelected)="onCardSelected($event)"
            ></app-grouped-deck-card-list>
            <!--
                {props.viewMode === "grid" && <DeckCardGrid cardOverviews={firstGroup.cardOverviews} onCardSelected={props.onCardSelected} />}
                { props.viewMode === "grouped" &&
                    <GroupedDeckCardList
                        groupedCardOverviews={props.groupedCardOverviews}
                        cardDetailsById={props.cardDetailsById}
                        onCardSelected={props.onCardSelected}
                        onCardDetailClick={props.onCardDetailClick}
                        onCardTagsClick={props.onCardTagsClick}  /> }
        -->
        </div>

        <div fxFlex="30" style="overflow:auto;">

        <!--
                <CardMenu
                    cardMenuAnchor={props.cardMenuAnchor}
                    onCardMenuSelect={props.onCardMenuSelected}
                    onCardMenuClose={props.onCardMenuClosed}
                    cardCategoryId={props.selectedCard?.category || ''}
                    hasInventoryCard={Boolean(props.cardDetailsById[props.cardMenuAnchorId]?.inventoryCardId)}
                    />

                <DeckCardDetail
                    selectedCard={props.selectedCard}
                    inventoryCards={props.selectedInventoryCards}
                    onMenuClick={props.onCardMenuClick}
                    onMenuClose={props.onCardMenuClosed}
                    onCardDetailClick={props.onCardDetailClick}
                    onCardTagsClick={props.onCardTagsClick} />
        -->

            <app-deck-card-detail
                [selectedCard]="selectedOverview"

            ></app-deck-card-detail>
        </div>

    </div>

    <app-deck-stats-bar [deckStats]="deckDetail?.stats"></app-deck-stats-bar>
</div>
